<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>観測許可証</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { margin:0; padding:0; background: radial-gradient(circle,#0b0c17,#000010); color:#cfd8ff; font-family:'Segoe UI',sans-serif; display:flex; justify-content:center; align-items:center; min-height:100vh; }
.container { background: rgba(10,10,40,0.9); padding:30px; border-radius:15px; box-shadow:0 0 30px #223366; max-width:500px; width:90%; text-align:center; }
h1 { color:#7fbfff; margin-bottom:20px; }
.value { font-weight:bold; }
.status { margin-top:15px; }
</style>
</head>
<body>
<div class="container">
  <h1>観測許可証</h1>
  <p>個体識別番号: <span id="uid"></span></p>
  <p>ランク: <span class="value"></span></p>
  <p>承認状況: <span class="value"></span></p>
  <div class="status"></div>
</div>

<script>
function getParam(name){
  const url = new URL(window.location.href);
  return url.searchParams.get(name);
}

const uid = getParam("id");
const uidEl = document.getElementById("uid");

if(uid){
  uidEl.textContent = uid;
  const saved = localStorage.getItem("permit_" + uid);
  if(saved){
    const data = JSON.parse(saved);
    document.querySelectorAll(".value")[0].textContent = data.rank;
    document.querySelectorAll(".value")[1].textContent = "Approved";
    document.querySelector(".status").innerHTML =
      "管理者により承認されました。<br>観測活動が許可されています。";
  }
}else{
  uidEl.textContent = "識別番号なし";
}
</script>
</body>
</html>
